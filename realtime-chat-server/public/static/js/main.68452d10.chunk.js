(this["webpackJsonprealtime-chat-ui"]=this["webpackJsonprealtime-chat-ui"]||[]).push([[0],{60:function(e,t,c){},61:function(e,t,c){},92:function(e,t,c){},97:function(e,t,c){},98:function(e,t,c){"use strict";c.r(t);var n,s=c(0),a=c(1),r=c(52),i=c.n(r),o=(c(60),c(15)),l=c(2),j=(c(61),c(35)),d=c(12),m=c(53),u=c.n(m);c(92);var b=function(){var e=Object(a.useState)(null),t=Object(d.a)(e,2),c=t[0],r=t[1],i=Object(l.g)(),o=i.userName,m=i.roomName,b=Object(a.useState)([]),h=Object(d.a)(b,2),O=h[0],f=h[1],x=Object(a.useState)(""),v=Object(d.a)(x,2),p=v[0],N=v[1],g=Object(l.f)();function w(){console.log("sending"),f([].concat(Object(j.a)(O),[{from:o,text:p}])),n.emit("sendMessage",{message:{from:o,text:p},roomName:m}),N("")}return Object(a.useEffect)((function(){return(n=u()("https://ps-realtime-chat-react.herokuapp.com")).emit("join",{userName:o,roomName:m},(function(e){e||g.push("/")})),function(){n.disconnect()}}),[o,m]),Object(a.useEffect)((function(){return n.on("message",(function(e){console.log("Received message"+JSON.stringify(e)),console.log("Previos msgs "+JSON.stringify(O)),f([].concat(Object(j.a)(O),[e]))})),c&&c.scrollIntoView({behavior:"smooth"}),function(){}}),[O]),Object(a.useEffect)((function(){n.on("error",(function(e){alert(e.message)}))})),Object(s.jsxs)("div",{id:"chat",children:[Object(s.jsxs)("div",{className:"row header",children:[Object(s.jsx)("div",{className:"col-10",children:Object(s.jsx)("h4",{id:"room-name",children:m})}),Object(s.jsx)("div",{className:"col-2",children:Object(s.jsx)("div",{id:"leave-actn",className:"action text-right",onClick:function(){g.push("/")},children:"leave"})})]}),Object(s.jsxs)("div",{className:"chat-box",children:[function(){for(var e=[],t=0;t<O.length;t++)e.push(Object(s.jsxs)("div",{className:"chat-bubble-container",children:[Object(s.jsx)("label",{className:"label ".concat(O[t].from===o?"text-right":"text-left"),children:O[t].from}),Object(s.jsx)("div",{className:"chat-bubble ".concat(O[t].from===o?"sent":"received"," "),children:O[t].text},t)]},t));return Object(s.jsxs)("div",{children:[" ",e," "]})}(),Object(s.jsx)("div",{ref:function(e){r(e)}})]}),Object(s.jsx)("div",{className:"user-input-container",children:Object(s.jsxs)("div",{className:"row",children:[Object(s.jsx)("div",{className:"col-10",children:Object(s.jsx)("input",{id:"user-input",name:"user-input",value:p,placeholder:"Enter your message",onChange:function(e){return N(e.target.value)},autoComplete:"off",onKeyPress:function(e){13===e.which&&p&&w(e.target.value)}})}),Object(s.jsx)("div",{className:"col-2 text-right",children:Object(s.jsx)("button",{disabled:!p,className:p?"primary":"gray",onClick:function(){return w()},children:"Send"})})]})})]})};c(97);var h=function(){var e=Object(a.useState)(""),t=Object(d.a)(e,2),c=t[0],n=t[1],r=Object(a.useState)(""),i=Object(d.a)(r,2),l=i[0],j=i[1];return Object(s.jsxs)("div",{id:"home",children:[Object(s.jsxs)("form",{children:[Object(s.jsxs)("h2",{id:"app-name",className:"primary",children:[" ","Realtime Chat"]}),Object(s.jsxs)("div",{className:"row",children:[Object(s.jsx)("div",{className:"col-3 offset",children:" "}),Object(s.jsxs)("div",{className:"col-6 name-input-group",children:[Object(s.jsx)("label",{htmlFor:"name",children:"Your Name"}),Object(s.jsx)("input",{id:"roomName",required:!0,name:"name",value:c,type:"text",autoComplete:"off",placeholder:"\xcbnter your name",onChange:function(e){return n(e.target.value)}})," ",Object(s.jsx)("br",{})]})]}),Object(s.jsxs)("div",{className:"row",children:[Object(s.jsx)("div",{className:"col-3 offset",children:" "}),Object(s.jsxs)("div",{className:"col-6 room-name-input-group",children:[Object(s.jsx)("label",{htmlFor:"roomName",children:"Room Name"}),Object(s.jsx)("input",{id:"roomName",required:!0,name:"roomName",value:l,autoComplete:"off",type:"text",placeholder:"\xcbnter room name",onChange:function(e){return j(e.target.value)}})," ",Object(s.jsx)("br",{})]})]}),Object(s.jsxs)("div",{className:"row",children:[Object(s.jsx)("div",{className:"col-3 offset",children:" "}),Object(s.jsx)("div",{className:"col-6 text-center",children:Object(s.jsx)(o.b,{to:"/chat/".concat(l,"/").concat(c),children:Object(s.jsxs)("button",{type:"submit",className:"primary",disabled:!l||!c,children:[" ","Enter Rooom"," "]})})})]})]}),Object(s.jsxs)("footer",{children:[Object(s.jsxs)("div",{className:"footer-para",children:[" ","Made with \ud83d\udc97 by"," ",Object(s.jsxs)("a",{href:"https://www.prashantshinde.in",target:"_new",children:[" ","Prashant"," "]})," "]})," "]})]})};var O=function(){return Object(s.jsx)("div",{className:"container",children:Object(s.jsx)(o.a,{children:Object(s.jsxs)(l.c,{children:[Object(s.jsx)(l.a,{path:"/",exact:!0,children:Object(s.jsx)(h,{})}),Object(s.jsx)(l.a,{path:"/chat/:roomName/:userName",children:Object(s.jsx)(b,{})})]})})})},f=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,99)).then((function(t){var c=t.getCLS,n=t.getFID,s=t.getFCP,a=t.getLCP,r=t.getTTFB;c(e),n(e),s(e),a(e),r(e)}))};i.a.render(Object(s.jsx)(O,{}),document.getElementById("root")),f()}},[[98,1,2]]]);
//# sourceMappingURL=main.68452d10.chunk.js.map